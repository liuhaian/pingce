<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>问题2</title>
</head>
<link href="css/style.css" type="text/css" rel="stylesheet"/>
<body>
<div class="question">
  <div class="top">
    <div class="name">NAEQ2017</div>
    <div class="number">第二题 / 共四题</div>
    <div class="right"><span class="help"><img src="images/GuideImg.png" /></span><span class="time"><img src="images/ClockProcess.png" /></span>
      <div class="page"><span onclick="previous()">上一题</span> <span onclick="next()">下一题</span></div>
    </div>
  </div>
  <div class="question_body">
    <div class="title">第二题：在炎热天气下跑步（共四题）</div>
    <!--  -->
    <dl class="keylist" style="display:block;">
      <dt>长距离跑步时，体温会升高并且出汗。 
        
        如果跑步者不饮用足够多的水以补充出汗造成的水分损失，他们会出现脱水症状。失水量达到或超过体重的2%就被认为是脱水状态。这一百分比标记在下图所示的失水标尺上。 
        
        如果体温升至40°C及以上，跑步者会出现危及生命的情况，即热休克。这一温度标记在下图所示的体温计上。 </dt>
      <dd><img src="images/1.png" /></dd>
      <dd class="buttonbox">
        <input onclick=" next()" type="button" value="开始测验"/>
      </dd>
    </dl>
    
    <dl class="keylist key1" style="display:none;">
      <dt>根据以下信息运行模拟，收集数据。从下拉菜单中进行选择，回答问题。<br />
        一名跑步者在干热（气温40°C， 空气湿度20%）的天气下跑步一小时，并且不饮水。<br />
        在这种条件下，跑步者会遭遇何种健康威胁？ </dt>
      <dd class="selectbox">跑步者会遭遇的健康威胁是<br />
        <select>
          <option>请选择</option>
          <option value=1>热休克</option>
          <option value=2>脱水</option>
        </select>
      </dd>
      <dd class="selectbox">这是通过该跑步者跑步一小时后的<br />
        <select>
          <option>请选择</option>
          <option value=1>出汗量</option>
          <option value=2>失水量</option>
          <option value=3>体温</option>
        </select>
        显示出来的 </dd>
    </dl>
   
    <dl class="keylist key2" style="display:none;">
    	<dt>一名跑步者在湿热（气温35°C， 空气湿度60%）的天气下跑步一小时并且不饮水，他将有发生脱水和热休克的危险。<br />
在跑步过程中饮水，对跑步者发生脱水和热休克的风险会有什么影响？ </dt>
 		<dd class="answer"><input type="radio" name="yingxiang" value="1"/><img src="images/NotyetSelectStateImg.png">饮水会降低热休克的风险，但不会降低脱水的风险。</dd>   
        <dd class="answer"><input type="radio" name="yingxiang" value="2"/><img src="images/NotyetSelectStateImg.png">饮水会降低脱水的风险，但不会降低热休克的风险。</dd>
        <dd class="answer"><input type="radio" name="yingxiang" value="3"/><img src="images/NotyetSelectStateImg.png">饮水会同时降低热休克和脱水的风险。</dd>
        <dd class="answer"><input type="radio" name="yingxiang" value="4"/><img src="images/NotyetSelectStateImg.png">饮水既不会降低热休克的风险，也不会降低脱水的风险。</dd>
        <dd class="ps"><img src="images/star.png" />从表中选取两行数据支持你的答案。</dd>      
    </dl>
   
    <dl class="keylist key3" style="display:none;">
      <dt>当空气湿度为60%的时候，气温上升会对跑步一小时后的出汗量有何影响？</dt>
      <dd class="answer"><input type="radio" name="chuhan" value="1"/><img src="images/NotyetSelectStateImg.png">出汗量上升</dd>
      <dd class="answer"><input type="radio" name="chuhan" value="2"/><img src="images/NotyetSelectStateImg.png">出汗量下降</dd>
      <dd class="ps"><img src="images/star.png" />从表中选取两行数据支持你的答案。</dd>
      <dd class="textyu">这种影响的生物学原因是什么？<br /><textarea name="key3"></textarea>
</dd>
    </dl>
    <dl class="keylist key4" style="display:none;">
      <dt>基于模拟，当空气湿度为40%时， 一个人跑步一小时不发生热休克的最高气温是多少？</dt>
      <dd class="answer"><input type="radio" name="qiwen" value="1"/><img src="images/NotyetSelectStateImg.png">20°C</dd>
      <dd class="answer"><input type="radio" name="qiwen" value="2"/><img src="images/NotyetSelectStateImg.png">25°C</dd>
      <dd class="answer"><input type="radio" name="qiwen" value="3"/><img src="images/NotyetSelectStateImg.png">30°C</dd>
      <dd class="answer"><input type="radio" name="qiwen" value="4"/><img src="images/NotyetSelectStateImg.png">35°C</dd>
      <dd class="answer"><input type="radio" name="qiwen" value="5"/><img src="images/NotyetSelectStateImg.png">40°C</dd>
      <dd class="ps"><img src="images/star.png" />从表中选取两行数据支持你的答案。</dd>
      <dd class="textyu">这种影响的生物学原因是什么？<br /><textarea name="key4"></textarea>
</dd>
    </dl>
    <dl class="keylist key5" style="display:none;">
      <dt>此模拟允许你将空气湿度设置为20%、40%或60%。<br />
        <br />
        你认为在空气湿度为50%、气温为40°C并可以饮水的条件下跑步安全还是不安全？</dt>
      <dd class="answer"><input type="radio" name="anquan" value="1"/><img src="images/NotyetSelectStateImg.png">安全</dd>
      <dd class="answer"><input type="radio" name="anquan" value="2"/><img src="images/NotyetSelectStateImg.png">不安全</dd>
      <dd class="ps"><img src="images/star.png" />从表中选取两行数据支持你的答案。</dd>
      <dd class="textyu">这种影响的生物学原因是什么？<br /><textarea name="key5"></textarea>
</dd>
    </dl>
    <div class="simulation">
      <ul class="scale">
        <li class="box1"><span class="t"><img src="images/people.png" class="people" /><img class="taiyang" src="images/taiyang.png" /></span><span class="b"></span></li>
        <li class="box2"><span class="t"><img class="guan" src="images/graph-sweat.png" /><em class="color"></em></span><span class="b">出汗量（升）</span></li>
        <li class="box3"><span class="t"><img class="guan" src="images/graph-water.png" /><em class="color"></em></span><span class="b">失水量（%）</span></li>
        <li class="box4"><span class="t"><img class="guan" src="images/graph-temp.png" /><em class="color"></em></span><span class="b">体温（℃）</span></li>
      </ul>
      <div class="tiaokong">
        <input type="button" class="start" onclick="start()" value="运行"/>
        <div class="box wendu">气温（℃）
          <div class="xuanze">
            <div class="sanjiao" id="sanjiao1"></div>
            <span>20</span><span>25</span><span>30</span><span>35</span><span>40</span></div>
        </div>
        <div class="box shidu">空气湿度（%）
          <div class="xuanze">
            <div class="sanjiao" id="sanjiao2"></div>
            <span>20</span><span>40</span><span>60</span></div>
        </div>
        <div class="box yinshui">饮水
          <div class="xuanze">
            <input type="radio" name="yinshui" />
            <label>是</label>
            <input type="radio" name="yinshui" />
            <label>否</label>
          </div>
        </div>
      </div>
      <table class="table" cellpadding="0" cellspacing="0">
        <thead>
          <tr>
            <th width="15%">气温（℃）</th>
            <th width="22%">空气湿度（%）</th>
            <th width="8%">饮水</th>
            <th width="20%">出汗量（升）</th>
            <th width="20%">失水量（%）</th>
            <th width="15%">体温（℃）</th>
          </tr>
        </thead>
        <tbody class="tbody">
          <tr>
            <td widtd="15%"></td>
            <td widtd="22%"></td>
            <td widtd="8%"></td>
            <td widtd="20%"></td>
            <td widtd="20%"></td>
            <td widtd="15%"></td>
          </tr>
          <tr>
            <td widtd="15%"></td>
            <td widtd="22%"></td>
            <td widtd="8%"></td>
            <td widtd="20%"></td>
            <td widtd="20%"></td>
            <td widtd="15%"></td>
          </tr>
          <tr>
            <td widtd="15%"></td>
            <td widtd="22%"></td>
            <td widtd="8%"></td>
            <td widtd="20%"></td>
            <td widtd="20%"></td>
            <td widtd="15%"></td>
          </tr>
          <tr>
            <td widtd="15%"></td>
            <td widtd="22%"></td>
            <td widtd="8%"></td>
            <td widtd="20%"></td>
            <td widtd="20%"></td>
            <td widtd="15%"></td>
          </tr>
          <tr>
            <td widtd="15%"></td>
            <td widtd="22%"></td>
            <td widtd="8%"></td>
            <td widtd="20%"></td>
            <td widtd="20%"></td>
            <td widtd="15%"></td>
          </tr>
          <tr>
            <td widtd="15%"></td>
            <td widtd="22%"></td>
            <td widtd="8%"></td>
            <td widtd="20%"></td>
            <td widtd="20%"></td>
            <td widtd="15%"></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>
</div>
</body>
<script src="js/common.js"></script>
<script src="js/jquery.js"></script>
<script src="js/json.js"></script>
<script>
	
	question = {
		qiwen : "20",
		shidu : "20",
		yinshui : null,
		chuhan : null,
		shishui : null,
		tiwen : null	

	}
	
	library = new Array(
		['20,20,1','0.8','1.1','38.8'],
		['25,20,1','1.0','1.4','39.0'],
		['30,20,1','1.1','1.6','39.1'],
		['35,20,1','1.4','1.9','39.4'],
		['40,20,1','1.6','2.3','39.8'],
		['40,40,1','1.9','2.7','40.7'],
		['35,40,1','1.5','2.2','39.8'],
		['30,40,1','1.2','1.8','39.3'],
		['25,40,1','1.0','1.4','39.0'],
		['20,40,1','0.8','1.1','38.8'],
		['20,60,1','0.8','1.2','38.9'],
		['25,60,1','1.1','1.6','39.1'],
		['30,60,1','1.4','1.9','39.6'],
		['35,60,1','1.8','2.5','40.5'],
		['40,60,1','2.5','3.5','41.2'],
		['40,20,0','1.6','0.0','39.8'],
		['35,20,0','1.4','0.0','39.4'],
		['30,20,0','1.1','0.0','39.1'],
		['25,20,0','1.0','0.0','39.0'],
		['20,20,0','0.8','0.0','38.8'],
		['20,40,0','0.8','0.0','38.8'],
		['25,40,0','1.0','0.0','39.0'],
		['30,40,0','1.2','0.0','39.3'],
		['35,40,0','1.5','0.0','39.8'],
		['40,40,0','1.9','0.0','40.7'],
		['40,60,0','2.5','0.0','41.2'],
		['35,60,0','1.5','0.0','40.5'],
		['30,60,0','1.4','0.0','39.6'],
		['25,60,0','1.1','0.0','39.1'],
		['20,60,0','0.8','0.0','38.9']
	);
	window.onload=function(){
			document.getElementsByClassName("question")[0].style.height= window.innerHeight+'px'
			$(".keylist").length;
		}
	$(".answer img").click(function(e){
			if($(this).attr("src")=="images/SelectedStateimg.png")
			{return false}
			$(this).parent("dd").siblings(".answer").children("img").attr("src","images/NotyetSelectStateImg.png");
			$(this).siblings("input").attr("checked","checked");
			$(this).parent("dd").siblings(".answer").children("input").removeAttr("checked");
			$(this).hide().attr("src","images/SelectedStateimg.png").fadeIn(300);
		})		

	sanjiao1 = document.getElementById("sanjiao1")
	sanjiao1.addEventListener("mousedown",yidong1,false);
	sanjiao2 = document.getElementById("sanjiao2")	
	sanjiao2.addEventListener("mousedown",yidong2,false);
	function yidong1(event){
			x = event.clientX//鼠标距离
			l = sanjiao1.offsetLeft;
			document.onmousemove=function(event){
				 position = event.clientX-x+l
				 //console.log(position)
					switch(true){
							case position<0:
							sanjiao1.style.left="0px"
							question.qiwen="20";
							break;
							case position<25:
							sanjiao1.style.left="25px"
							question.qiwen="25";
							break;
							case position<50:
							sanjiao1.style.left="50px"
							question.qiwen="30";
							break;
							case position<75:
							sanjiao1.style.left="75px"
							question.qiwen="35";
							break;
							case position<100:
							sanjiao1.style.left="100px"
							question.qiwen="40";
							break;
						}
				}
			document.onmouseup=function(){
				document.onmousemove = null;	
				sanjiao1.onmousedown = null;
				}
		}
		function yidong2(event){
			x = event.clientX//鼠标距离
			l = sanjiao2.offsetLeft;
			document.onmousemove=function(event){
				 position = event.clientX-x+l
				 //console.log(position)
					switch(true){
							case position<0:
							sanjiao2.style.left="0px"
							question.shidu = "20";
							break;
							case position<50:
							sanjiao2.style.left="50px"
							question.shidu = "40";
							break;
							case position<100:
							sanjiao2.style.left="100px"
							question.shidu = "60";
							break;
						}
				}
			document.onmouseup=function(){
				document.onmousemove = null;	
				sanjiao2.onmousedown = null;
				}
		}
		function start(){
				input1 = document.getElementsByName("yinshui")[0].checked;//是
				input2 = document.getElementsByName("yinshui")[1].checked;//否
				if(input1==false && input2==false){
					alert("请选择是否饮水")
					return false;
				}else{
						if(input1==true)
							{
								question.yinshui= "0"	
							}
						else{
								question.yinshui = "1"
							}
					}
				
				text = question.qiwen+","+question.shidu+","+question.yinshui
				for(i=0;i<library.length;i++)
					{
						if(library[i][0]==text)
							{
								question.chuhan=library[i][1];
								question.shishui=library[i][2];
								question.tiwen=library[i][3];
								question.yinshui=="0"?question.yinshui="是":question.yinshui="否";
								bianli();
							}
						else
							{
								console.log("不等于\n")	
							}	
					}
			}
		line = 0;
		function bianli(){
				table = document.getElementsByTagName("tbody")[0].children[line];
				table.setAttribute("class","yes");
				table.innerHTML="<td width='15%'>"+question.qiwen+"</td><td width='22%'>"+question.shidu+"</td><td width='8%'>"+question.yinshui+"</td><td width='20%'>"+question.chuhan+"</td><td width='20%'>"+question.shishui+"</td><td width'15%'>"+question.tiwen+"<div class='del'></div></td>";
				$(".box2 .color").height(question.chuhan*36+"px")
				$(".box3 .color").height(question.shishui*21.6+"px")
				$(".box4 .color").height((question.tiwen-36)*15+"px")
				line++
			}
		$(".table").on("click",".del",function(){
				$(this).parents("tr").remove();
				$("tbody").append("<tr><td widtd='15%'></td><td widtd='22%'></td><td widtd='8%'></td><td widtd='20%'></td><td widtd='20%'></td><td widtd='15%'></td></tr>");                 
				line--
			})
			$(".table").on("click",".yes",function(){
				
				$(this).addClass("gray")
				})
		topic = 0;
		function next(){
			if(!cunyicun())
			{return false}
			 if(topic>5)
			 {return false}
				document.getElementsByClassName("keylist")[topic].style.display="none"
				topic++
				document.getElementsByClassName("keylist")[topic].style.display="block"
				clear()	
			
			}
		function previous(){
			if(topic<1)
			 {return false}
				document.getElementsByClassName("keylist")[topic].style.display="none"
				topic--
				document.getElementsByClassName("keylist")[topic].style.display="block"
				clear()
			}
		function clear(){
				$(".scale .color").height("");
				$(".tbody td").html("");
				$(".tbody tr").removeClass()
				$(".tbody tr").data("text","no");
				$(".sanjiao").css("left","0px");
				line = 0;
			}
		function cunyicun(){
				switch(topic){
					case 0:
					return true;
					break;
					case 1:
					data = {
					q1:$(".selectbox:eq(0) option:selected").val(),
					q2:$(".selectbox:eq(1) option:selected").val()
					}
					if(data.q1=="请选择" || data.q2=="请选择"){
					alert("请选择答案");
					return false;
					}
					localStorage.two = JSON.stringify(data)
					return true
					break;
					case 2:
					three = {}	
					three.table =[];
					radio = document.getElementsByName("yingxiang")
					daan = ''
					for(i=0;i<radio.length;i++)
					{
						if(radio[i].checked==true)
						{
							daan = radio[i].value;	
						}
					}
					if(daan=="")
					{
						alert("请选择答案");
						return false;
					}
					else{
						three.daan = daan	
					}
					table = document.getElementsByClassName("gray")
					if(table.length<2)
					{
						alert("请选择两条数据")
						return false
						
					}
					else{

						for(i=0;i<table.length;i++)
						{
							dataMap = {'温度':table[i].children[0].innerHTML,
							'湿度':table[i].children[1].innerHTML,
							'饮水':table[i].children[2].innerHTML,
							'出汗量':table[i].children[3].innerHTML,
							'失水量':table[i].children[4].innerHTML,
							'体温':table[i].children[5].innerHTML.slice(0,-23)
							}
                            
							//dataMap =dataMap.substring(0,dataMap.length-23)
							three.table.push({dataMap})
						}		
					}
					
					localStorage.three= JSON.stringify(three)
					return true
					break;
					case 3:
					four = {}	
					four.table = [];
					radio = document.getElementsByName("chuhan")
					daan = ''
					for(i=0;i<radio.length;i++)
					{
						if(radio[i].checked==true)
						{
							daan = radio[i].value;	
						}
					}
					yuanyin = document.getElementsByName("key3")[0].value
					if(yuanyin=='')
						{
							alert("请填写原因")
							return false;	
						}
					else
						{
							four.yuanyin = yuanyin
						}
					if(daan=="")
					{
						alert("请选择答案");
						return false;
					}
					else{
						four.daan = daan	
					}
					table = document.getElementsByClassName("gray")
					if(table.length<2)
					{
						alert("请选择两条数据")
						return false
						
					}
					else{

						for(i=0;i<table.length;i++)
						{
//							dataMap = "'温度':"+table[i].children[0].innerHTML+",'湿度':"+table[i].children[1].innerHTML+",'饮水':"+table[i].children[2].innerHTML+",'出汗量':"+table[i].children[3].innerHTML+",'失水量':"+table[i].children[4].innerHTML+",'体温':"+table[i].children[5].innerHTML
//
//							dataMap =dataMap.substring(0,dataMap.length-23)
                            dataMap = {'温度':table[i].children[0].innerHTML,
                                '湿度':table[i].children[1].innerHTML,
                                '饮水':table[i].children[2].innerHTML,
                                '出汗量':table[i].children[3].innerHTML,
                                '失水量':table[i].children[4].innerHTML,
                                '体温':table[i].children[5].innerHTML.slice(0,-23)
                            }
//							four.table[i]={dataMap}
                            four.table.push({dataMap});
						}
					}
					localStorage.four= JSON.stringify(four)
					return true
					break;
					case 4:
					five = {}	
					five.table = [];
					radio = document.getElementsByName("qiwen")
					daan = ''
					for(i=0;i<radio.length;i++)
					{
						if(radio[i].checked==true)
						{
							daan = radio[i].value;	
						}
					}
					yuanyin = document.getElementsByName("key4")[0].value
					if(yuanyin=='')
						{
							alert("请填写原因")
							return false;	
						}
					else
						{
							five.yuanyin = yuanyin
						}
					if(daan=="")
					{
						alert("请选择答案");
						return false;
					}
					else{
						five.daan = daan	
					}
					table = document.getElementsByClassName("gray")
					if(table.length<2)
					{
						alert("请选择两条数据")
						return false
						
					}
					else{

						for(i=0;i<table.length;i++)
						{
//							dataMap = "'温度':"+table[i].children[0].innerHTML+",'湿度':"+table[i].children[1].innerHTML+",'饮水':"+table[i].children[2].innerHTML+",'出汗量':"+table[i].children[3].innerHTML+",'失水量':"+table[i].children[4].innerHTML+",'体温':"+table[i].children[5].innerHTML
//
//							dataMap =dataMap.substring(0,dataMap.length-23)
                            dataMap = {'温度':table[i].children[0].innerHTML,
                                '湿度':table[i].children[1].innerHTML,
                                '饮水':table[i].children[2].innerHTML,
                                '出汗量':table[i].children[3].innerHTML,
                                '失水量':table[i].children[4].innerHTML,
                                '体温':table[i].children[5].innerHTML.slice(0,-23)
                            }
//							five.table[i]={dataMap}
                            five.table.push({dataMap});
						}
					}
					localStorage.five= JSON.stringify(five)
					return true
					break;
					case 5:
					six = {}	
					six.table = [];
					radio = document.getElementsByName("anquan")
					daan = ''
					for(i=0;i<radio.length;i++)
					{
						if(radio[i].checked==true)
						{
							daan = radio[i].value;	
						}
					}
					yuanyin = document.getElementsByName("key5")[0].value
					if(yuanyin=='')
						{
							alert("请填写原因")
							return false;	
						}
					else
						{
							six.yuanyin = yuanyin
						}
					if(daan=="")
					{
						alert("请选择答案");
						return false;
					}
					else{
						six.daan = daan	
					}
					table = document.getElementsByClassName("gray")
					if(table.length<2)
					{
						alert("请选择两条数据")
						return false
						
					}
					else{

						for(i=0;i<table.length;i++)
						{
//							dataMap = "'温度':"+table[i].children[0].innerHTML+",'湿度':"+table[i].children[1].innerHTML+",'饮水':"+table[i].children[2].innerHTML+",'出汗量':"+table[i].children[3].innerHTML+",'失水量':"+table[i].children[4].innerHTML+",'体温':"+table[i].children[5].innerHTML
//
//							dataMap =dataMap.substring(0,dataMap.length-23)
                            dataMap = {'温度':table[i].children[0].innerHTML,
                                '湿度':table[i].children[1].innerHTML,
                                '饮水':table[i].children[2].innerHTML,
                                '出汗量':table[i].children[3].innerHTML,
                                '失水量':table[i].children[4].innerHTML,
                                '体温':table[i].children[5].innerHTML.slice(0,-23)
                            }
//							six.table[i]={dataMap}
                            six.table.push({dataMap});
						}		
					}
					localStorage.six= JSON.stringify(six)
					window.location.href="q3.html"
					return true
					break;
				}
			}
</script>
</html>
